<div class="history-container">
  <h2>Overall Purchase History</h2>
  <mat-card *ngFor="let order of orders" class="order-card">
    <mat-card-content>
      <p>Order ID: {{ order._id }}</p>
      <p>Total: ${{ order.total }}</p>
      <p>Status: {{ order.status }}</p>
      <p>User: {{ order.user.name || 'Unknown' }} ({{ order.user.email || 'N/A' }})</p>
      <p>Chef: {{ order.chef.name || 'Unknown' }}</p>
      <div *ngIf="order.chef?.image" class="chef-image">
        <img [src]="order.chef.image" alt="Chef {{ order.chef.name }}" />
      </div>
      <div *ngFor="let item of order.items">
        <div *ngIf="item.food.image" class="food-image">
          <img [src]="item.food.image" alt="{{ item.food.name }}" />
        </div>
        <p>{{ item.food.name }} - Quantity: {{ item.quantity }}</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>